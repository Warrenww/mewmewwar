{"version":3,"sources":["Component/Utility.js","Component/Home.js","Component/Cat.js","Component/NotFound.js","Component/Login.js","Component/App.js","serviceWorker.js","index.js","logo_text.png"],"names":["TreeView","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","expand","clickRoot","bind","assertThisInitialized","clickNode","setState","clickNodeEvent","_this2","react_default","a","createElement","className","onClick","style","cursor","rootName","nodes","map","x","key","Component","CoustomAlert","_this3","show","_this4","setTimeout","content","Copiable","_this5","finish","copy","e","_this6","target","textContent","temp","document","body","appendChild","value","select","execCommand","remove","Utility_CoustomAlert","class","FunctionButton","text","pos","spanPos","icon","Button","_this7","handleClick","args","StateButtonGroup","_this8","allowedMultiple","allowedTurnOff","default","stateArray","createStateArray","buttons","length","changeState","n","d","array","fill","event","index","Number","parentNode","getAttribute","active","console","log","_this9","i","SnapshotHolder","_this10","scale","hide","scaleUp","scaleDown","querySelector","setAttribute","stopPropagation","transform","concat","id","position","top","right","height","Utility_FunctionButton","textDecoration","download","SnapshotButton","_this11","snapshot","mutex","_this12","bgc","backgroundColor","downloadName","getElementsByClassName","innerHTML","html2canvas","allowTaint","logging","then","canvas","append","toBlob","blob","getElementsByTagName","href","URL","createObjectURL","Is_ios","navigator","userAgent","indexOf","WeekArr","Block","name","Child","LegendBoard","data","uniqueId","backgroundImage","img","backgroundSize","react_router_dom","to","redirect","EventIframe","active_date","active_text","eventURL","handleChange","switchPureText","newProps","width","onChange","disabled","substring","join","title","src","display","padding","dangerouslySetInnerHTML","__html","split","marginTop","rel","color","PredictionTable","day","colorSet","duration","push","start","hidden","Date","toLocaleDateString","slice","getDay","table","row","j","flex","Math","floor","random","EventPrediction","tw","jp","displayTable","switchPredict","scroll","obj","startDate","parse","dayPass","startRow","tableSpace","subRouting","gachaP","eventP","subObj","year","getFullYear","date","sure","find","every","arr","left","scrollLeft","window","innerWidth","alignItems","Utility_StateButtonGroup","Utility_Button","Utility_SnapshotButton","overflow","scrollBehavior","Home_PredictionTable","createPredictionQueue","textAlign","source","margin","ContactBlock","alt","Home","catLegend","stageLegend","eventPredict","eventPredict_jp","text_event","socket","emit","on","mostSearchCat","legend","mostSearchStage","reverse","prediction","prediction_jp","hp","atk","count","round","innerText","user","fontWeight","fontSize","Home_ContactBlock","action","method","justifyContent","border","type","scrollIntoView","behavior","Home_Block","boxShadow","zIndex","head","Home_LegendBoard","article_cat","backgroundPosition","article_stage","Home_EventIframe","Home_EventPrediction","table_link_1","table_link_2","contact","getItems","offset","arguments","undefined","Array","from","v","k","reorder","list","startIndex","endIndex","result","_result$splice","splice","removed","slicedToArray","move","destination","droppableSource","droppableDestination","sourceClone","destClone","_sourceClone$splice","droppableId","getItemStyle","isDragging","draggableStyle","objectSpread","userSelect","grid","background","getListStyle","isDraggingOver","DndExample","items","selected","id2List","droppable","droppable2","getList","onDragEnd","react_beautiful_dnd_esm","provided","ref","innerRef","item","draggableId","assign","draggableProps","dragHandleProps","placeholder","Cat","Cat_DndExample","NotFound","react_router","LoginButton","loginFunction","firebase","auth","facebook_provider","FacebookAuthProvider","google_provider","GoogleAuthProvider","provider","alert","signInWithPopup","update","success","catch","error","errorCode","code","imgSize","Login","loginResult","UpdateState","Login_LoginButton","Utility_Copiable","initializeApp","apiKey","authDomain","databaseURL","projectId","storageBucket","messagingSenderId","HamburgerMenu","clickEvent","NavigationSideColumn","prop","arr_1","arr_2","arr_3","Utility_TreeView","flexDirection","paddingLeft","AuthArea","logout","signOut","location","reload","photoURL","displayName","Navigation","clickMenu","photo","App_HamburgerMenu","App_NavigationSideColumn","logo","App_AuthArea","App","io","connect","onAuthStateChanged","uid","page","App_Navigation","path","exact","render","Component_Home","component","Component_Login","Utility_SnapshotHolder","Boolean","hostname","match","ReactDOM","Component_App","getElementById","serviceWorker","ready","registration","unregister","module","exports","__webpack_require__","p"],"mappings":"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","file":"static/js/main.53003c11.chunk.js","sourcesContent":["import React, {Component} from 'react';\r\nimport html2canvas from 'html2canvas';\r\n\r\nclass TreeView extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {expand:0}\r\n    this.clickRoot = this.clickRoot.bind(this);\r\n    this.clickNode = this.clickNode.bind(this);\r\n  }\r\n\r\n  clickRoot(){\r\n    this.setState({expand: (this.state.expand+1)%2 })\r\n  }\r\n\r\n  clickNode(){\r\n    if(this.props.clickNodeEvent) this.props.clickNodeEvent();\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <div className='TreeView' onClick={this.clickRoot}>\r\n        <div className='Root'style={{cursor:\"pointer\"}}>{this.props.rootName}</div>\r\n        <div className='NodeCollection' expand={this.state.expand}>\r\n          {this.props.nodes.map((x,key) => {\r\n            return <span className='Node' key={key} onClick={this.clickNode}>{x}</span>\r\n          })}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass CoustomAlert extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {show: true}\r\n  }\r\n  componentDidMount(){\r\n    setTimeout(()=>{this.setState({show: false})},5000);\r\n  }\r\n\r\n  render(){\r\n    if(this.state.show)\r\n      return(\r\n        <div className=\"CoustomAlert\">\r\n          {this.props.content}\r\n        </div>\r\n      );\r\n    else return null ;\r\n  }\r\n}\r\n\r\nclass Copiable extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {finish: false};\r\n    this.copy = this.copy.bind(this);\r\n  }\r\n  copy(e){\r\n    var content = e.target.textContent,\r\n        temp = document.createElement(\"input\");\r\n    document.body.appendChild(temp);\r\n    temp.value = content;\r\n    temp.select();\r\n    document.execCommand('copy');\r\n    setTimeout(()=>{temp.remove(); this.setState({finish: true})},500);\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <div className='Copiable' style={{cursor:\"pointer\"}} onClick={this.copy}>\r\n       {this.props.content}\r\n       {this.state.finish? <CoustomAlert content={<div>已複製到剪貼簿 <i class=\"material-icons\">check_circle</i></div>} />:null}\r\n     </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass FunctionButton extends Component {\r\n\r\n  render(){\r\n    return(\r\n      <span className=\"FunctionButton flex\" onClick={this.props.onClick} style={this.props.style}>\r\n        {this.props.text?<span pos={this.props.spanPos?this.props.spanPos:\"top\"}>{this.props.text}</span>:null}\r\n        <i className=\"material-icons\">{this.props.icon}</i>\r\n      </span>\r\n    );\r\n  }\r\n}\r\nclass Button extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.handleClick = this.handleClick.bind(this);\r\n  }\r\n\r\n  handleClick(){\r\n    if(this.props.args) this.props.onClick(this.props.args);\r\n    else this.props.onClick();\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <button onClick={this.handleClick}>{this.props.text}</button>\r\n    );\r\n  }\r\n}\r\nclass StateButtonGroup extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      allowedMultiple: this.props.allowedMultiple?true:false,\r\n      allowedTurnOff: this.props.allowedTurnOff?true:false,\r\n      default: this.props.default,\r\n      stateArray: this.createStateArray(this.props.buttons.length,this.props.default),\r\n    }\r\n    this.changeState = this.changeState.bind(this);\r\n  }\r\n  createStateArray(n,d){\r\n    var array = [];\r\n    array.length = n;\r\n    array.fill(0);\r\n    if(d) d.map(x => array[x] = 1);\r\n    return array;\r\n  }\r\n  changeState(event){\r\n    var index = Number(event.target.parentNode.getAttribute(\"index\")),\r\n        state = Number(event.target.active),\r\n        array = this.state.stateArray;\r\n    console.log(event.target.parentNode,index);\r\n    if(state){\r\n      if(!this.state.allowedTurnOff) array[index] = 0\r\n    } else {\r\n      if(!this.state.allowedMultiple) array.fill(0);\r\n      array[index] = 1;\r\n    }\r\n    this.setState({stateArray:array})\r\n  }\r\n  render(){\r\n    return(\r\n      <div className=\"StateButtonGroup\">\r\n        {this.props.buttons.map((x,i)=>{\r\n          return <div key={i} index={i} className=\"ButtonState\" onClick={this.changeState} active={this.state.stateArray[i]}>{x}</div>;\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass SnapshotHolder extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {show:0,scale:1}\r\n    this.hide = this.hide.bind(this);\r\n    this.scaleUp = this.scaleUp.bind(this);\r\n    this.scaleDown = this.scaleDown.bind(this);\r\n  }\r\n  hide(){\r\n    document.querySelector(\"#SnapshotHolder\").setAttribute(\"show\",0);\r\n  }\r\n  scaleUp(e){\r\n    e.stopPropagation();\r\n    if(this.state.scale === 3) return;\r\n    this.setState({scale:this.state.scale + .25})\r\n    document.querySelector(\"#SnapshotHolder canvas\").style.transform = `scale(${this.state.scale})`\r\n  }\r\n  scaleDown(e){\r\n    e.stopPropagation();\r\n    if(this.state.scale === 0.25) return;\r\n    this.setState({scale:this.state.scale - .25})\r\n    document.querySelector(\"#SnapshotHolder canvas\").style.transform = `scale(${this.state.scale})`\r\n  }\r\n  render(){\r\n    return(\r\n      <div id=\"SnapshotHolder\" show={this.state.show}>\r\n        <div className='picture NoScrollBar'></div>\r\n        <div style={{position:\"absolute\",top:0 ,right:\"30px\", height:\"100%\"}}>\r\n          <FunctionButton icon='close'  onClick={this.hide}/>\r\n          <div style={{height:\"calc(100% - 240px)\"}}></div>\r\n          <FunctionButton text='放大' icon='zoom_in'  onClick={this.scaleUp} spanPos=\"left\"/>\r\n          <FunctionButton text='縮小' icon='zoom_out' onClick={this.scaleDown} spanPos=\"left\"/>\r\n          <a style={{textDecoration:\"none\"}} download>\r\n            <FunctionButton text='下載'icon='cloud_download' spanPos=\"left\"/>\r\n          </a>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nclass SnapshotButton extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.snapshot = this.snapshot.bind(this);\r\n    this.state = { mutex: false }\r\n    this.snapshot = this.snapshot.bind(this);\r\n\r\n  }\r\n  snapshot(){\r\n    if(this.state.mutex) return;\r\n    this.setState({mutex:true});\r\n    var target = document.querySelector(this.props.target),\r\n        bgc = this.props.backgroundColor?this.props.backgroundColor:null,\r\n        downloadName = this.props.downloadName?this.props.downloadName:\"download\";\r\n    if(!target) return;\r\n    const SnapshotHolder = document.querySelector('#SnapshotHolder');\r\n    SnapshotHolder.setAttribute(\"show\",1);\r\n    SnapshotHolder.getElementsByClassName(\"picture\")[0].innerHTML = '<div class=\"loading\"><span></span><span></span><span></span><span></span></div>';\r\n\r\n    html2canvas(target,{\r\n      backgroundColor:bgc,\r\n      allowTaint:true,\r\n      logging:false,\r\n    }).then((canvas) => {\r\n        SnapshotHolder.getElementsByClassName(\"picture\")[0].innerHTML = \"\";\r\n        SnapshotHolder.getElementsByClassName(\"picture\")[0].append(canvas);\r\n        this.setState({mutex:false});\r\n        try {\r\n          canvas.toBlob(blob => {\r\n            SnapshotHolder.getElementsByTagName(\"a\")[0].href = URL.createObjectURL(blob);\r\n            SnapshotHolder.getElementsByTagName(\"a\")[0].download = downloadName;\r\n          });\r\n        } catch (e) { console.log(e); }\r\n      });\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <div>\r\n        <FunctionButton text=\"截圖\" icon=\"add_a_photo\" onClick={this.snapshot}/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass Chooser extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <div className=\"Chooser\">\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport {\r\n  TreeView,\r\n  Copiable,\r\n  CoustomAlert,\r\n  FunctionButton,\r\n  Button,\r\n  StateButtonGroup,\r\n  SnapshotButton,\r\n  SnapshotHolder,\r\n  Chooser\r\n};\r\n","import React,{Component} from 'react';\r\nimport { BrowserRouter as Router, Route, Link, Switch } from \"react-router-dom\";\r\nimport {FunctionButton, StateButtonGroup, Button, SnapshotButton} from './Utility.js';\r\nimport uniqueId from 'lodash/uniqueId';\r\nimport '../Style/Home.css';\r\n\r\nconst Is_ios = navigator.userAgent.indexOf(\"iPad\") !== -1 || navigator.userAgent.indexOf(\"iPhone\") !== -1;\r\nconst WeekArr=['Sun.','Mon.','Tue.','Wed','Thu.','Fri','Sat'];\r\n\r\nclass Block extends Component {\r\n\r\n  render(){\r\n    return(\r\n      <div className='HomePageBlock' style={this.props.style}>\r\n        <h2>{this.props.name}</h2>\r\n        <div>\r\n          {this.props.Child?this.props.Child.map(x=>x):null}\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass LegendBoard extends Component {\r\n\r\n  render(){\r\n    return(\r\n      <div className='LegendBoard'>\r\n        {this.props.data.map((data,index)=>{\r\n          return(\r\n            <div className='LegendCard' key={uniqueId()}>\r\n              <div style={{backgroundImage:`url(\"${data.img}\")`,backgroundSize:\"cover\",height: \"100px\"}}></div>\r\n              <span>{data.name}</span>\r\n              {data.data.map((x,i)=>{return <span key={uniqueId()}>{x.key} : {x.value}</span>})}\r\n              <span><Link to={data.redirect}>more</Link></span>\r\n            </div>\r\n          );\r\n        })}\r\n\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass EventIframe extends Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      active_date: this.props.event[0],\r\n      active_text:0,\r\n      eventURL: \"https://ponos.s3.dualstack.ap-northeast-1.amazonaws.com/information/appli/battlecats/event/tw/\"\r\n    };\r\n    this.handleChange = this.handleChange.bind(this);\r\n    this.switchPureText = this.switchPureText.bind(this);\r\n  }\r\n\r\n  componentWillReceiveProps(newProps) {\r\n    if(!this.state.active_date)\r\n      this.setState({active_date:newProps.event[0]})\r\n  }\r\n\r\n  handleChange(e){\r\n    this.setState({active_date: e.target.value})\r\n  }\r\n  switchPureText(args){\r\n    this.setState({active_text: (this.state.active_text+1)%2 })\r\n  }\r\n  render(){\r\n    return(\r\n      <div className='flex_col EventIframe'style={{width:\"100%\"}}>\r\n        <div>\r\n          選擇日期 :\r\n          <select onChange={this.handleChange} value={this.state.active_date}\r\n            disabled={this.state.active_text === 1}>\r\n          {this.props.event.map((x,i)=>{\r\n            return (\r\n              <option key={x} value={x}>\r\n              {[x.substring(0,4),x.substring(4,6),x.substring(6,8)].join(\"/\")}\r\n              </option>\r\n            );\r\n          })}\r\n          </select>\r\n        </div>\r\n        <iframe title='EventIframe' src={this.state.active_date?this.state.eventURL+this.state.active_date+\".html\":null}\r\n          display={(this.state.active_text && !Is_ios)? \"false\" :\"true\"}></iframe>\r\n        <div className=\"alt_text\" display={(this.state.active_text && !Is_ios)? \"true\": \"false\"}>\r\n          {this.props.text.map((x,i)=>{\r\n            return(\r\n              <div key={i} style={{padding: \"20px\"}}>\r\n                <h3>{x.title}</h3>\r\n                <div dangerouslySetInnerHTML={{__html:(()=>{\r\n                    let a = document.createElement('div');\r\n                    a.innerHTML = x.content.split(\"open-\").join(\"\").split(\"<a\").join(\"<a target='_blank'\");\r\n                    return a\r\n                  })().innerHTML\r\n                }}></div>\r\n              </div>\r\n            );\r\n          })}\r\n        </div>\r\n        <div style={{marginTop: 20,display: \"flex\"}}>\r\n          <a target=\"_blank\" rel=\"noopener noreferrer\" href={this.state.eventURL+this.state.active_date+\".html\"} style={{color:\"inherit\",textDecoration:\"none\"}}>\r\n            <FunctionButton icon=\"launch\" text=\"開啟網頁\" spanPos=\"bottom\" />\r\n          </a>\r\n          <FunctionButton icon='swap_vertical_circle' text={<div className=\"flex\" style={{width:\"90px\"}}>{this.state.active_text?\"內嵌顯示\":\"純文字顯示\"}</div>}\r\n            spanPos=\"bottom\" onClick={this.switchPureText} args=\"\"/>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass PredictionTable extends Component {\r\n\r\n  render(){\r\n    var data = this.props.data,\r\n        day = [];\r\n    const colorSet=[ '#95CC85', '#EDDB8A', '#FF5959', '#FF9259', '#4ABABB' ];\r\n    if(!data) return null;\r\n    for(let i=0;i<data.duration;i++) day.push(data.start+i*86400000);\r\n    return(\r\n      <div className=\"PredictionTable flex_col\" style={{width:60*data.duration+\"px\",display:this.props.hidden?\"none\":null}}>\r\n        <div className='head'>{day.map((x,i)=>{return <div className=\"cell\" key={i}><div>{new Date(x).toLocaleDateString().split(\"/\").slice(1).join(\"/\")}</div></div>})}</div>\r\n        <div className='head'>{day.map((x,i)=>{return <div className=\"cell\" key={i}><div>{WeekArr[new Date(x).getDay()]}</div></div>})}</div>\r\n        {data.table.map((row,i)=>{\r\n          var temp = [];\r\n          for(let j=0;j<row.length;j++){\r\n            if(!row[j]) temp.push(<div key={j} className=\"cell\"><div></div></div>);\r\n            else if(row[j] !== 1)\r\n              temp.push ( <div key={j} className='cell' style={{flex:row[j].length}}>\r\n                            <div style={{backgroundColor:colorSet[Math.floor(Math.random()*5)]}}>{row[j].content}</div>\r\n                          </div>\r\n                        );\r\n          }\r\n          return <div key={i}> {temp.map((x,i)=>{return x})} </div> ;\r\n        })}\r\n      </div>\r\n    );\r\n  }\r\n}\r\nclass EventPrediction extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      tw:this.props.tw,\r\n      jp:this.props.jp,\r\n      displayTable: \"tw\"\r\n    }\r\n    this.switchPredict = this.switchPredict.bind(this);\r\n    this.scroll = this.scroll.bind(this);\r\n  }\r\n\r\n  createPredictionQueue(obj){\r\n    if(!obj.start) return null;\r\n    var startDate = Date.parse([obj.start.substring(0,4),obj.start.substring(4,6),obj.start.substring(6,8)].join(\"/\")),\r\n        dayPass = 0,\r\n        startRow = 0,\r\n        tableSpace = [[]];\r\n\r\n    subRouting(obj.gachaP,startRow);\r\n    startRow = tableSpace.length;\r\n    subRouting(obj.eventP,startRow);\r\n\r\n    return {start:startDate,duration:dayPass,table:tableSpace};\r\n\r\n    function subRouting(subObj,startRow){\r\n      var year = new Date(startDate).getFullYear();\r\n      for(let i in subObj){\r\n        var date = subObj[i].date,\r\n            name = subObj[i].name,\r\n            sure = subObj[i].sure,\r\n            find = false;\r\n        date = date.map(x => {return Date.parse(year+\"/\"+x)>=startDate?Date.parse(year+\"/\"+x):Date.parse((year+1)+\"/\"+x)});\r\n        if((date[1] - startDate)/86400000 >= dayPass){\r\n          dayPass = (date[1] - startDate)/86400000 + 1;\r\n          tableSpace.map(x => x.length = dayPass);\r\n        }\r\n        date = date.map(x => (x-startDate)/86400000);\r\n        for(let j in tableSpace){\r\n          if(find) break;\r\n          if(j < startRow) continue;\r\n          if(tableSpace[j].slice(date[0],(date[1]+1)).every((x)=>{return !x})){\r\n            tableSpace[j].fill(1,date[0],(date[1]+1));\r\n            tableSpace[j][date[0]] = {content: name+(sure?\" 必中\":\"\"),length: date[1]-date[0]+1};\r\n            find = true;\r\n          }\r\n        }\r\n        if(!find){\r\n          let arr = [];\r\n          arr.length = dayPass;\r\n          arr.fill(1,date[0],date[1]+1);\r\n          arr[date[0]] = {content: name+(sure?\" 必中\":\"\"),length: date[1]-date[0]+1};\r\n          tableSpace.push(arr);\r\n        }\r\n      }\r\n    }\r\n  }\r\n  switchPredict(table){\r\n    if(table === 'tw' || table === 'jp') this.setState({displayTable:table});\r\n  }\r\n  scroll(pos){\r\n    if(pos!=='left'&&pos!=='right') return;\r\n    var left = document.querySelector(\".EventPrediction .NoScrollBar\").scrollLeft;\r\n    left += (window.innerWidth*0.9)*(pos==='left'?-1:1)\r\n    document.querySelector(\".EventPrediction .NoScrollBar\").scrollLeft = left;\r\n  }\r\n  render(){\r\n    return(\r\n      <div className='EventPrediction'>\r\n        <div style={{display:\"flex\",alignItems:\"flex-end\"}}>\r\n          <StateButtonGroup buttons={[\r\n              <Button text=\"台版情報\" onClick={this.switchPredict} args=\"tw\" />,\r\n              <Button text=\"日版情報\" onClick={this.switchPredict} args=\"jp\" />]}\r\n              allowedMultiple={false} allowedTurnOff={false} default={[0]} />\r\n          <SnapshotButton target={`.PredictionTable:nth-of-type(${this.state.displayTable === 'tw'?1:2})`}\r\n            backgroundColor=\"black\" downloadName=\"活動預測\"/>\r\n        </div>\r\n        <div className=\"control\">\r\n          <Button text={<i className='material-icons'> chevron_left</i>}  onClick={this.scroll} args=\"left\" />\r\n          <Button text={<i className='material-icons'> chevron_right</i>} onClick={this.scroll} args=\"right\"/>\r\n        </div>\r\n        <div className=\"NoScrollBar\" style={{width:\"100%\",overflow:\"scroll\", scrollBehavior: \"smooth\"}}>\r\n          <PredictionTable data={this.createPredictionQueue(this.state.tw)} hidden={this.state.displayTable !== \"tw\"}/>\r\n          <PredictionTable data={this.createPredictionQueue(this.state.jp)} hidden={this.state.displayTable !== \"jp\"}/>\r\n        </div>\r\n        <div style={{textAlign:\"end\",padding:\"5px 20px\"}}>資料來源:\r\n          <a href={this.state.tw.source} target=\"_blank\" rel=\"noopener noreferrer\" style={{color:\"var(--bluegreen)\",margin:\"3px 10px\"}}>台版</a>\r\n          <a href={this.state.jp.source} target=\"_blank\" rel=\"noopener noreferrer\" style={{color:\"var(--bluegreen)\",margin:\"3px 10px\"}}>日版</a>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass ContactBlock extends Component {\r\n\r\n  render(){\r\n    return(\r\n      <div className=\"ContactBlock flex_col\">\r\n        <img src={this.props.img} alt={this.props.title}/>\r\n        <h3>{this.props.title}</h3>\r\n        <div>{this.props.content}</div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nclass Home extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state={\r\n      catLegend:[\r\n        {id:1,img:null,name:\"cat_000\",data:[{key:\"**\",value:0}],redirect:\"/cat/000\"},\r\n        {id:2,img:null,name:\"cat_000\",data:[{key:\"**\",value:0}],redirect:\"/cat/000\"},\r\n        {id:3,img:null,name:\"cat_000\",data:[{key:\"**\",value:0}],redirect:\"/cat/000\"},\r\n      ],\r\n      stageLegend:[\r\n        {id:1,img:null,name:\"stage_000\",data:[{key:\"**\",value:0}],redirect:\"/stage/000\"},\r\n        {id:2,img:null,name:\"stage_000\",data:[{key:\"**\",value:0}],redirect:\"/stage/000\"},\r\n        {id:3,img:null,name:\"stage_000\",data:[{key:\"**\",value:0}],redirect:\"/stage/000\"},\r\n      ],\r\n      event:[],\r\n      eventPredict:{},\r\n      eventPredict_jp:{},\r\n      text_event:[]\r\n    }\r\n  }\r\n\r\n  componentDidMount(){\r\n    this.props.socket.emit(\"public data\",['index']);\r\n    this.props.socket.on(\"public data\",(data)=>{\r\n      var mostSearchCat = data.index.legend.mostSearchCat,\r\n          mostSearchStage = data.index.legend.mostSearchStage,\r\n          temp = [];\r\n\r\n      for(let i in data.index.event){\r\n        if(i === 'prediction' || i === 'prediction_jp' || i === 'text_event') continue;\r\n        if(data.index.event[i]) temp.push(i);\r\n      }\r\n      this.setState({\r\n        event:temp.reverse(),\r\n        eventPredict:data.index.event.prediction,\r\n        eventPredict_jp:data.index.event.prediction_jp,\r\n        text_event: data.index.event.text_event\r\n      });\r\n\r\n      temp = [];\r\n      for(let i in mostSearchCat){\r\n        temp.push({\r\n          id: mostSearchCat[i].id,\r\n          img: `./css/footage/cat/u${mostSearchCat[i].id}-1.png`,\r\n          name: mostSearchCat[i].name,\r\n          data:[\r\n            {key: \"血量\",value: mostSearchCat[i].hp},\r\n            {key: \"攻擊力\",value: mostSearchCat[i].atk},\r\n            {key: \"查詢次數\",value: mostSearchCat[i].count},\r\n          ],\r\n          redirect: \"/cat/\"+mostSearchCat[i].id\r\n        });\r\n      }\r\n      this.setState({catLegend:temp})\r\n      temp = [];\r\n      for(let i in mostSearchStage){\r\n        var id = mostSearchStage[i].id;\r\n        temp.push({\r\n          id: id,\r\n          img: `./css/footage/stage/${id.split(\"-\")[0]}_BG.png`,\r\n          name: mostSearchStage[i].name.find((x,i,a)=>{return x.id === id.split(\"-\")[1]}).name,\r\n          data:[\r\n            {key: \"子關卡數\",value: mostSearchStage[i].data.length},\r\n            {key: \"平均查詢數\",value: Math.round(mostSearchStage[i].count)},\r\n          ],\r\n          redirect: \"/stage/\"+mostSearchStage[i].id.split(\"-\").join(\"/\")\r\n        });\r\n      }\r\n      this.setState({stageLegend:temp})\r\n\r\n    });\r\n    this.props.socket.on(\"online user change\",(count)=>{\r\n      document.querySelector(\".Head .onLineUser span\").innerText = count;\r\n    });\r\n  }\r\n  componentWillReceiveProps(newProps) {\r\n    if(this.state.user === null) {\r\n      this.setState({user: newProps.user});\r\n      console.log(newProps);\r\n    }\r\n  }\r\n\r\n  article_cat(){\r\n    return(\r\n      <div className=\"article\" key={uniqueId()}>\r\n        在這裡你可以查詢到每隻貓咪的基本資料，如:血量、攻擊力甚至是相關的聯組，\r\n        你也可以對每隻貓咪評分或是留下使用感想，這些資訊對新手或是剛抽的這隻貓\r\n        的朋友會十分的有用~<br></br>\r\n        此外你可以用不同的篩選條件，像是:稀有度、特殊能力、對付敵人屬性甚至是數值化的\r\n        血量、生產金額等篩選出符合條件的貓咪，並將他們加入\"貓咪購物車\"，當開啟\r\n        <Link to='/compare/'>比較器</Link>\r\n        的時候，在購物車中的貓咪就會被列舉出各項數值比較表，讓你一眼就可以看出\r\n        每隻貓咪的優缺點。<br></br>\r\n        左側為貓咪查詢排行榜，點擊\"more\"來看看這些貓為甚麼大受好評吧!\r\n        <div>\r\n          <Link style={{color: \"var(--bluegreen)\",fontWeight: \"bold\",cursor: \"pointer\",fontSize: 20}}\r\n          to='/cat'>前往貓咪資料庫</Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  article_stage(){\r\n    return(\r\n      <div className=\"article\" key={uniqueId()}>\r\n        在這裡你可以查詢到各個關卡的資訊，像是:敵人出擊限制、我方出擊限制還有關卡獎勵\r\n        與個敵人的強化倍率、出現時間等有用資訊。在出現敵人的列表中，你可以點擊表格上方\r\n        的欄位，來依照出現時間或是強化倍率等排序敵人，也可以點擊敵人圖片來顯示該敵人的\r\n        基本資料，對於攻略關卡十分的有幫助。<br></br>\r\n        另外，資料庫還提供了可以用關卡名稱或是過關獎勵來篩選關卡，對於想要刷素材的朋友\r\n        也很方便，之後也預計加入讓大家撰寫攻略的功能，敬請期待。<br></br>\r\n        右側為上週關卡查詢排行榜，點擊\"more\"來看看大家都在刷什麼關卡吧!\r\n        <div>\r\n          <Link style={{color: \"var(--bluegreen)\",fontWeight: \"bold\",cursor: \"pointer\",fontSize: 20}}\r\n          to='/stage/'>前往關卡資料庫</Link>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n  table_link_1(){\r\n    return(\r\n      <table style={{flex:1}} key={uniqueId()}>\r\n        <tbody>\r\n          <tr>\r\n            <th><a target=\"_blank\"rel=\"noopener noreferrer\" href=\"https://battlecats-db.com/\">超絕攻略網</a></th><td>日文的攻略網，也是本網站目前主要的資料來源</td>\r\n          </tr>\r\n          <tr>\r\n            <th><a target=\"_blank\"rel=\"noopener noreferrer\" href=\"https://forum.gamer.com.tw/A.php?bsn=23772\">巴哈姆特貓戰版</a></th><td>中文的論壇，是本網站次要的資料來源</td>\r\n          </tr>\r\n          <tr>\r\n            <th> <a target=\"_blank\"rel=\"noopener noreferrer\" href=\"https://www.youtube.com/channel/UC6UBir4I6o_0dJQa8eoGoDQ\">貓咪大戰爭中文版官方YouTube</a></th><td>官方的Youtube頻道</td>\r\n          </tr>\r\n          <tr>\r\n            <th> <a target=\"_blank\"rel=\"noopener noreferrer\" href=\"https://www.facebook.com/NyankoTW/\">貓咪大戰爭中文版官方FB</a></th><td>官方的Facebook粉絲團</td>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    );\r\n  }\r\n  table_link_2(){\r\n    return(\r\n      <table style={{flex:1}} key={uniqueId()}>\r\n        <tbody>\r\n          <tr>\r\n            <th> <a target=\"_blank\"rel=\"noopener noreferrer\" href=\"https://ponos.s3.dualstack.ap-northeast-1.amazonaws.com/information/appli/battlecats/evolution/tw/index.html\"> 貓薄荷介紹 </a> </th>\r\n            <th> <a target=\"_blank\"rel=\"noopener noreferrer\" href=\"https://ponos.s3.dualstack.ap-northeast-1.amazonaws.com/information/appli/battlecats/combo/tw/index.html\"> 聯組介紹 </a> </th>\r\n            <th> <a target=\"_blank\"rel=\"noopener noreferrer\" href=\"https://ponos.s3.dualstack.ap-northeast-1.amazonaws.com/information/appli/battlecats/zukan/tw/index.html\"> 貓咪圖鑑介紹 </a> </th>\r\n          </tr>\r\n          <tr>\r\n            <th> <a target=\"_blank\"rel=\"noopener noreferrer\" href=\"https://ponos.s3.dualstack.ap-northeast-1.amazonaws.com/information/appli/battlecats/mission/tw/index.html\"> 貓咪任務介紹 </a> </th>\r\n            <th> <a target=\"_blank\"rel=\"noopener noreferrer\" href=\"https://ponos.s3.dualstack.ap-northeast-1.amazonaws.com/information/appli/battlecats/instinct/tw/index.html\"> 本能介紹 </a> </th>\r\n            <th> <a target=\"_blank\"rel=\"noopener noreferrer\" href=\"https://ponos.s3.dualstack.ap-northeast-1.amazonaws.com/information/appli/battlecats/club/tw/index.html\"> 貓咪俱樂部介紹 </a> </th>\r\n          </tr>\r\n        </tbody>\r\n      </table>\r\n    );\r\n  }\r\n  contact(){\r\n    return([\r\n        <a key={uniqueId()} href=\"https://www.facebook.com/BattleCatStation/\"style={{textDecoration:\"none\"}} target=\"_blank\"rel=\"noopener noreferrer\">\r\n            <ContactBlock img=\"/css/footage/facebook.png\" title=\"facebook粉絲專頁\" content={\r\n              <span>幫我們按個讚，隨時獲得最新的更新消息<br></br>有問題的時候也可以私訊粉專，我們會以最快的速度幫你解決</span>\r\n            }/>\r\n        </a>,\r\n        <a key={uniqueId()} href=\"https://docs.google.com/forms/d/e/1FAIpQLScz-YlVxBGPGsxWKSMqdBzpRZiDm3BOrmNihRnWZJlHlpGxag/viewform\"style={{textDecoration:\"none\"}} target=\"_blank\"rel=\"noopener noreferrer\">\r\n          <ContactBlock img=\"/css/footage/googleSheet.png\" title=\"意見表單\" content={\r\n            <span>如果有Bug或是希望我們改進、加強的功能<br></br>抑或是有任何的建議與指教，歡迎填寫此google表單回報給我們知道</span>\r\n          }/>\r\n        </a>,\r\n        <ContactBlock key={uniqueId()} img=\"/css/footage/paypal.png\" title=\"贊助我們\" content={\r\n          <div>\r\n            <span>如果我們架設的網站有幫助到你的話，請不吝嗇給我們一點鼓勵，十分的感謝你~~<br></br><b>選擇斗內金額:</b></span>\r\n            <form action=\"https://www.paypal.com/cgi-bin/webscr\" method=\"post\" target=\"_blank\" style={{display:\"flex\",justifyContent:\"center\",alignItems:\"center\"}}>\r\n              <img alt=\"\" border=\"0\"style={{display:\"none\"}} src=\"https://www.paypalobjects.com/zh_TW/i/scr/pixel.gif\" width=\"1\" height=\"1\" />\r\n              <input type=\"hidden\" name=\"cmd\" value=\"_s-xclick\" />\r\n              <input type=\"hidden\" name=\"hosted_button_id\" value=\"R8LMUVKC7U5WU\" />\r\n              <select name=\"os0\">\r\n                <option value=\"100\">便當+咖啡 NT$100 TWD</option>\r\n                <option value=\"70\">一個便當 NT$70 TWD</option>\r\n                <option value=\"30\">一杯咖啡 NT$30 TWD</option>\r\n              </select>\r\n              <input type=\"hidden\" name=\"currency_code\" value=\"TWD\" />\r\n              <input type=\"submit\" name=\"submit\" value=\"斗內\"/>\r\n            </form>\r\n          </div>\r\n        }/>\r\n      ]);\r\n  }\r\n  head(){\r\n    return(\r\n      <div className=\"Head\" key={uniqueId()}>\r\n        <div className=\"onLineUser\"> 目前線上人數 : <span>0</span> 人 </div>\r\n        <div className=\"expand\" onClick={()=>{document.querySelector(\".HomePageBlock:nth-child(3)\").scrollIntoView({behavior: 'smooth'})}} >\r\n          <i className=\"material-icons\"> expand_less </i>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <div className='Home subApp NoScrollBar'>\r\n        <Block style={{display:\"none\"}}/>\r\n        <Block style={{backgroundImage:\"url('./css/footage/background.png')\",height:\"80%\",boxShadow:\"0px -10px 30px 20px black\",zIndex:2}} Child={[this.head()]}/>\r\n        <Block name='貓咪資料庫' Child={[<LegendBoard data={this.state.catLegend}  key={uniqueId()}/>, this.article_cat()]}  />\r\n        <Block name='關卡資料庫' style={{backgroundImage:`url(./css/footage/stage/bg009.png)`,backgroundPosition:\"bottom\"}}\r\n          Child={[this.article_stage(), <LegendBoard data={this.state.stageLegend}  key={uniqueId()}/>]}/>\r\n        <Block name='最新消息' Child={[<EventIframe event={this.state.event} text={this.state.text_event} key={uniqueId()}/>]}/>\r\n        <Block name='未來活動預測' Child={[<EventPrediction tw={this.state.eventPredict} jp={this.state.eventPredict_jp} key={uniqueId()}/>]}/>\r\n        <Block name='其他網站連結' Child={[this.table_link_1(), this.table_link_2()]}/>\r\n        <Block name='聯絡我們' Child={this.contact()}/>\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\n\r\nexport default Home;\r\n","import React,{Component} from 'react';\r\nimport {Chooser} from './Utility.js';\r\nimport { DragDropContext, Droppable, Draggable } from 'react-beautiful-dnd';\r\n\r\n// fake data generator\r\nconst getItems = (count, offset = 0) =>\r\n    Array.from({ length: count }, (v, k) => k).map(k => ({\r\n        id: `item-${k + offset}`,\r\n        content: `item ${k + offset}`\r\n    }));\r\n\r\n// a little function to help us with reordering the result\r\nconst reorder = (list, startIndex, endIndex) => {\r\n    const result = Array.from(list);\r\n    const [removed] = result.splice(startIndex, 1);\r\n    result.splice(endIndex, 0, removed);\r\n\r\n    return result;\r\n};\r\n\r\n/**\r\n * Moves an item from one list to another list.\r\n */\r\nconst move = (source, destination, droppableSource, droppableDestination) => {\r\n    const sourceClone = Array.from(source);\r\n    const destClone = Array.from(destination);\r\n    const [removed] = sourceClone.splice(droppableSource.index, 1);\r\n\r\n    destClone.splice(droppableDestination.index, 0, removed);\r\n\r\n    const result = {};\r\n    result[droppableSource.droppableId] = sourceClone;\r\n    result[droppableDestination.droppableId] = destClone;\r\n\r\n    return result;\r\n};\r\n\r\nconst grid = 8;\r\n\r\nconst getItemStyle = (isDragging, draggableStyle) => ({\r\n    // some basic styles to make the items look a bit nicer\r\n    userSelect: 'none',\r\n    padding: grid * 2,\r\n    margin: `0 0 ${grid}px 0`,\r\n\r\n    // change background colour if dragging\r\n    background: isDragging ? 'lightgreen' : 'grey',\r\n\r\n    // styles we need to apply on draggables\r\n    ...draggableStyle\r\n});\r\n\r\nconst getListStyle = isDraggingOver => ({\r\n    background: isDraggingOver ? 'lightblue' : 'lightgrey',\r\n    padding: grid,\r\n    width: 250\r\n});\r\n\r\nclass DndExample extends Component {\r\n    state = {\r\n        items: getItems(10),\r\n        selected: getItems(5, 10)\r\n    };\r\n\r\n    /**\r\n     * A semi-generic way to handle multiple lists. Matches\r\n     * the IDs of the droppable container to the names of the\r\n     * source arrays stored in the state.\r\n     */\r\n    id2List = {\r\n        droppable: 'items',\r\n        droppable2: 'selected'\r\n    };\r\n\r\n    getList = id => this.state[this.id2List[id]];\r\n\r\n    onDragEnd = result => {\r\n        const { source, destination } = result;\r\n\r\n        // dropped outside the list\r\n        if (!destination) {\r\n            return;\r\n        }\r\n\r\n        if (source.droppableId === destination.droppableId) {\r\n            const items = reorder(\r\n                this.getList(source.droppableId),\r\n                source.index,\r\n                destination.index\r\n            );\r\n\r\n            let state = { items };\r\n\r\n            if (source.droppableId === 'droppable2') {\r\n                state = { selected: items };\r\n            }\r\n\r\n            this.setState(state);\r\n        } else {\r\n            const result = move(\r\n                this.getList(source.droppableId),\r\n                this.getList(destination.droppableId),\r\n                source,\r\n                destination\r\n            );\r\n\r\n            this.setState({\r\n                items: result.droppable,\r\n                selected: result.droppable2\r\n            });\r\n        }\r\n    };\r\n\r\n    // Normally you would want to split things out into separate components.\r\n    // But in this example everything is just done in one place for simplicity\r\n    render() {\r\n        return (\r\n            <DragDropContext onDragEnd={this.onDragEnd}>\r\n                <Droppable droppableId=\"droppable\">\r\n                    {(provided, snapshot) => (\r\n                        <div\r\n                            ref={provided.innerRef}\r\n                            style={getListStyle(snapshot.isDraggingOver)}>\r\n                            {this.state.items.map((item, index) => (\r\n                                <Draggable\r\n                                    key={item.id}\r\n                                    draggableId={item.id}\r\n                                    index={index}>\r\n                                    {(provided, snapshot) => (\r\n                                        <div\r\n                                            ref={provided.innerRef}\r\n                                            {...provided.draggableProps}\r\n                                            {...provided.dragHandleProps}\r\n                                            style={getItemStyle(\r\n                                                snapshot.isDragging,\r\n                                                provided.draggableProps.style\r\n                                            )}>\r\n                                            {item.content}\r\n                                        </div>\r\n                                    )}\r\n                                </Draggable>\r\n                            ))}\r\n                            {provided.placeholder}\r\n                        </div>\r\n                    )}\r\n                </Droppable>\r\n                <Droppable droppableId=\"droppable2\">\r\n                    {(provided, snapshot) => (\r\n                        <div\r\n                            ref={provided.innerRef}\r\n                            style={getListStyle(snapshot.isDraggingOver)}>\r\n                            {this.state.selected.map((item, index) => (\r\n                                <Draggable\r\n                                    key={item.id}\r\n                                    draggableId={item.id}\r\n                                    index={index}>\r\n                                    {(provided, snapshot) => (\r\n                                        <div\r\n                                            ref={provided.innerRef}\r\n                                            {...provided.draggableProps}\r\n                                            {...provided.dragHandleProps}\r\n                                            style={getItemStyle(\r\n                                                snapshot.isDragging,\r\n                                                provided.draggableProps.style\r\n                                            )}>\r\n                                            {item.content}\r\n                                        </div>\r\n                                    )}\r\n                                </Draggable>\r\n                            ))}\r\n                            {provided.placeholder}\r\n                        </div>\r\n                    )}\r\n                </Droppable>\r\n            </DragDropContext>\r\n        );\r\n    }\r\n}\r\n\r\n\r\n\r\nfunction Cat() {\r\n  return(\r\n    <div className=\"Cat subApp NoScrollBar\">\r\n      <DndExample />\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Cat;\r\n","import React from 'react';\r\nimport { Redirect } from 'react-router';\r\n\r\nfunction NotFound() {\r\n  return(\r\n    <Redirect to=\"/\" />\r\n  );\r\n}\r\n\r\nexport default NotFound;\r\n","import React, {Component} from 'react';\r\nimport { Redirect } from 'react-router';\r\nimport {Copiable} from './Utility.js';\r\nimport '../Style/Login.css'\r\n\r\nclass LoginButton extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.loginFunction = this.loginFunction.bind(this);\r\n  }\r\n\r\n  loginFunction(){\r\n    const firebase = this.props.firebase;\r\n    const auth = firebase.auth();\r\n    const facebook_provider = new firebase.auth.FacebookAuthProvider();\r\n    const google_provider = new firebase.auth.GoogleAuthProvider();\r\n    var provider = this.props.provider;\r\n\r\n    if(provider){\r\n      if(provider === 'facebook') provider = facebook_provider;\r\n      else if(provider === 'google') provider = google_provider;\r\n      else alert(\"未知錯誤，請重新整理\");\r\n\r\n      auth.signInWithPopup(provider).then((result) => {\r\n        // This gives you a Facebook Access Token. You can use it to access the Facebook API.\r\n        // var token = result.credential.accessToken;\r\n        // The signed-in user info.\r\n        var user = result.user;\r\n        // console.log(user);\r\n        this.props.socket.emit(\"user login\",user) ;\r\n        this.props.update({success:true});\r\n      }).catch((error) => {\r\n        console.log(error);\r\n        // Handle Errors here.\r\n        var errorCode = error.code;\r\n        this.props.update({success:false,error:errorCode});\r\n\r\n        // var errorMessage = error.message;\r\n        // The email of the user's account used.\r\n        // var email = error.email;\r\n        // The firebase.auth.AuthCredential type that was used.\r\n        // var credential = error.credential;\r\n      });\r\n    }\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <span className=\"flex\"onClick={this.loginFunction}>\r\n        <img src={this.props.img} width={this.props.imgSize} alt=\"\" />\r\n      </span>\r\n    )\r\n  }\r\n}\r\n\r\nclass Login extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {loginResult: {}};\r\n    this.UpdateState = this.UpdateState.bind(this);\r\n  }\r\n\r\n  UpdateState(state){\r\n    this.setState({loginResult: state})\r\n  }\r\n\r\n  render(){\r\n    var content = (\r\n      <div className='flex_col'>\r\n        <h4>請選擇一種登入方式</h4>\r\n        <div className=\"login_box flex\">\r\n          <LoginButton img=\"/css/footage/facebook.png\" imgSize=\"50px\"firebase={this.props.firebase} socket={this.props.socket} provider=\"facebook\" update={this.UpdateState}/>\r\n          <LoginButton img=\"/css/footage/google.png\" imgSize=\"30px\"firebase={this.props.firebase} socket={this.props.socket} provider=\"google\" update={this.UpdateState}/>\r\n        </div>\r\n      </div>\r\n    );\r\n    if(this.props.user || this.state.loginResult.success) return <Redirect to=\"/\" />\r\n    else if(this.state.loginResult.success === false){\r\n      if(this.state.loginResult.error === \"auth/popup-closed-by-user\"){}\r\n      else if(this.state.loginResult.error === \"auth/web-storage-unsupported\"){\r\n        content = (\r\n          <div className='flex_col'>\r\n          <h4>登入錯誤</h4>\r\n          <div className=\"login_box flex_col\">\r\n            瀏覽器禁用了第三方cookie，請從設定中啟用第三方cookie<br/>\r\n            若為Chrome瀏覽器，點擊以複製以下連結，並在網址列貼上以前往設定<br/>\r\n            <Copiable content=\"chrome://settings/content/cookies\"/>\r\n          </div>\r\n        </div>\r\n        );\r\n      }\r\n      else if(this.state.loginResult.error === \"auth/network-request-failed\"){\r\n        content = (\r\n          <div className='flex_col'>\r\n          <h4>網路錯誤請重新整理再嘗試</h4>\r\n        </div>\r\n        );\r\n      }\r\n      else if(this.state.loginResult.error === \"auth/popup-blocked\"){\r\n        content = (\r\n          <div className='flex_col'>\r\n            <h4>登入錯誤</h4>\r\n            <div className=\"login_box flex\">\r\n              瀏覽器阻擋了彈出視窗，請允許彈出視窗後重新整理\r\n            </div>\r\n          </div>\r\n        );\r\n      }\r\n    }\r\n    return(\r\n      <div className=\"Login subApp flex_col NoScrollBar\">\r\n        {content}\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Login;\r\n","import React, {Component} from 'react';\r\nimport { BrowserRouter as Router, Route, Link, Switch } from \"react-router-dom\";\r\nimport logo from '../logo_text.png';\r\nimport Home from './Home.js';\r\nimport Cat from './Cat.js';\r\nimport NotFound from './NotFound.js';\r\nimport Login from './Login.js';\r\nimport io from 'socket.io-client';\r\nimport firebase from 'firebase/app';\r\nimport 'firebase/auth';\r\nimport {TreeView, SnapshotHolder} from \"./Utility.js\";\r\n\r\nconst FireBaseConfig = {\r\n  apiKey: \"AIzaSyC-SA6CeULoTRTN10EXqXdgYaoG1pqWhzM\",\r\n  authDomain: \"battlecat-smart.firebaseapp.com\",\r\n  databaseURL: \"https://battlecat-smart.firebaseio.com\",\r\n  projectId: \"battlecat-smart\",\r\n  storageBucket: \"battlecat-smart.appspot.com\",\r\n  messagingSenderId: \"268279710428\"\r\n};\r\nfirebase.initializeApp(FireBaseConfig);\r\n\r\n\r\nclass HamburgerMenu extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.clickEvent = this.clickEvent.bind(this);\r\n  }\r\n  clickEvent(){\r\n    this.props.clickEvent();\r\n  }\r\n  render(){\r\n    return(\r\n      <div className=\"menu\" onClick={this.clickEvent} active={this.props.active}>\r\n        <span></span> <span></span> <span></span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nclass NavigationSideColumn extends Component {\r\n  constructor(prop) {\r\n    super(prop);\r\n    this.clickNodeEvent = this.clickNodeEvent.bind(this);\r\n  }\r\n\r\n  clickNodeEvent(){\r\n    this.props.clickNodeEvent()\r\n  }\r\n\r\n  render(){\r\n    var\r\n    arr_1 = [\r\n      <Link  to=\"/cat\">貓咪資料</Link>,\r\n      <Link  to=\"/enemy/\">敵人資料</Link>,\r\n      <Link  to=\"/combo/\">查詢聯組</Link>,\r\n      <Link  to=\"/stage/\">關卡資訊</Link>,\r\n      <Link  to=\"/rank/\">等級排行</Link>,\r\n      <Link  to=\"/treasure/\">寶物圖鑑</Link>\r\n    ],\r\n    arr_2 = [\r\n      <Link  to=\"/compare/\">比較器</Link>,\r\n      <Link  to=\"/expCalculator/\">經驗計算機</Link>,\r\n      <Link  to=\"/book/\">我的貓咪圖鑑</Link>\r\n    ],\r\n    arr_3 = [\r\n      <Link  to=\"/gacha/\">轉蛋模擬器</Link>,\r\n      <Link  to=\"/game/\">釣魚小遊戲</Link>\r\n    ];\r\n\r\n    return(\r\n      <div className=\"NavigationSideColumn NoScrollBar\">\r\n        <div className=\"navLinkBox\">\r\n          <TreeView rootName='資料庫' nodes={arr_1} clickNodeEvent={this.clickNodeEvent} />\r\n          <TreeView rootName='更多功能' nodes={arr_2} clickNodeEvent={this.clickNodeEvent} />\r\n          <TreeView rootName='打發時間' nodes={arr_3} clickNodeEvent={this.clickNodeEvent} />\r\n          <div style={{display:\"flex\",flexDirection:\"column\",paddingLeft:\"10px\"}}>\r\n            <Link onClick={this.clickNodeEvent} to=\"/calendar/\">活動日程</Link>\r\n            <Link onClick={this.clickNodeEvent} to=\"/document/\"><i className=\"material-icons\">help</i> <span>使用教學</span> </Link>\r\n            <Link onClick={this.clickNodeEvent} to=\"/setting/\"><i className=\"material-icons\">settings</i> <span>設定</span> </Link>\r\n            <Link onClick={this.clickNodeEvent} to=\"/history/\"><i className=\"material-icons\">history</i> <span>歷程記錄</span> </Link>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nclass AuthArea extends Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.logout = this.logout.bind(this);\r\n  }\r\n  logout(){\r\n    firebase.auth().signOut().then(function() {\r\n      window.location.reload(); // Sign-out successful.\r\n    }, function(error) {\r\n      console.log(error); alert(\"登出錯誤，請重試\"); // An error happened.\r\n    });\r\n  }\r\n  render(){\r\n    return(\r\n      <div className='AuthArea flex'>\r\n        <span className=\"userPhoto flex\">\r\n          {this.props.user?\r\n            <img src={this.props.user.photoURL} alt=''/>:\r\n            <i className=\"material-icons\" style={{width: \"30px\", textAlign: \"center\",padding: \"2px\"}}>person</i>\r\n          }\r\n        </span>\r\n        <span className=\"current_user_name flex\">{this.props.user?this.props.user.displayName:\"\"}</span>\r\n        <span className='authChange'>{this.props.user?<Link to='/' onClick={this.logout}>登出</Link>:<Link to='/login'>登入</Link>}</span>\r\n      </div>\r\n    );\r\n  }\r\n}\r\nclass Navigation extends Component{\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = { active: 0,user: null};\r\n    this.clickMenu = this.clickMenu.bind(this);\r\n  }\r\n  componentDidMount(){\r\n    this.props.socket.on(\"login complete\",(data)=>{\r\n      console.log(data);\r\n      this.setState({user:{displayName:data.name, photoURL: data.photo?data.photo:\"./css/footage/cat/u001-1.png\"}})\r\n    });\r\n  }\r\n  clickMenu(){\r\n    this.setState({active: (this.state.active+1)%2 });\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <nav>\r\n        <HamburgerMenu active={this.state.active} clickEvent={this.clickMenu}/>\r\n        <NavigationSideColumn clickNodeEvent={this.clickMenu} />\r\n        <Link to=\"/\"><img src={logo} alt='Logo'/></Link>\r\n        <AuthArea user={this.state.user?this.state.user:this.props.user} />\r\n        <div className='NavBG' onClick={this.clickMenu}></div>\r\n      </nav>\r\n    );\r\n  }\r\n}\r\n\r\nclass App extends Component {\r\n  constructor(props) {\r\n    super(props);\r\n    this.state = {\r\n      user: null,\r\n      socket: io.connect()\r\n    };\r\n  }\r\n\r\n  componentDidMount(){\r\n    const auth = firebase.auth(),\r\n          socket = this.state.socket;\r\n    auth.onAuthStateChanged((user) => {\r\n      if (user){\r\n        this.setState({user: user});\r\n        socket.emit(\"user connect\",{user:{uid:user.uid},page:'/'});\r\n      }\r\n      else  { console.log('did not sign in'); }\r\n    });\r\n    socket.on(\"current_user_data\",(data) => {\r\n      this.setState({user: {uid:data.uid,photoURL:data.photo,displayName:data.name}});\r\n    });\r\n  }\r\n\r\n  render(){\r\n    return(\r\n      <Router>\r\n        <Navigation user={this.state.user} socket={this.state.socket}/>\r\n        <Switch>\r\n          <Route path=\"/\" exact render={() => <Home uid={this.state.uid} socket={this.state.socket} /> } />\r\n          <Route path=\"/cat\" exact component={Cat} />\r\n          <Route path=\"/login\" render={() => <Login socket={this.state.socket} firebase={firebase} user={this.state.user}/> } />\r\n          <Route component={NotFound} />\r\n        </Switch>\r\n        <SnapshotHolder />\r\n      </Router>\r\n    );\r\n  }\r\n}\r\n\r\nexport default App;\r\n","// This optional code is used to register a service worker.\r\n// register() is not called by default.\r\n\r\n// This lets the app load faster on subsequent visits in production, and gives\r\n// it offline capabilities. However, it also means that developers (and users)\r\n// will only see deployed updates on subsequent visits to a page, after all the\r\n// existing tabs open on the page have been closed, since previously cached\r\n// resources are updated in the background.\r\n\r\n// To learn more about the benefits of this model and instructions on how to\r\n// opt-in, read https://bit.ly/CRA-PWA\r\n\r\nconst isLocalhost = Boolean(\r\n  window.location.hostname === 'localhost' ||\r\n    // [::1] is the IPv6 localhost address.\r\n    window.location.hostname === '[::1]' ||\r\n    // 127.0.0.1/8 is considered localhost for IPv4.\r\n    window.location.hostname.match(\r\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\r\n    )\r\n);\r\n\r\nexport function register(config) {\r\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\r\n    // The URL constructor is available in all browsers that support SW.\r\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\r\n    if (publicUrl.origin !== window.location.origin) {\r\n      // Our service worker won't work if PUBLIC_URL is on a different origin\r\n      // from what our page is served on. This might happen if a CDN is used to\r\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\r\n      return;\r\n    }\r\n\r\n    window.addEventListener('load', () => {\r\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\r\n\r\n      if (isLocalhost) {\r\n        // This is running on localhost. Let's check if a service worker still exists or not.\r\n        checkValidServiceWorker(swUrl, config);\r\n\r\n        // Add some additional logging to localhost, pointing developers to the\r\n        // service worker/PWA documentation.\r\n        navigator.serviceWorker.ready.then(() => {\r\n          console.log(\r\n            'This web app is being served cache-first by a service ' +\r\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\r\n          );\r\n        });\r\n      } else {\r\n        // Is not localhost. Just register service worker\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    });\r\n  }\r\n}\r\n\r\nfunction registerValidSW(swUrl, config) {\r\n  navigator.serviceWorker\r\n    .register(swUrl)\r\n    .then(registration => {\r\n      registration.onupdatefound = () => {\r\n        const installingWorker = registration.installing;\r\n        if (installingWorker == null) {\r\n          return;\r\n        }\r\n        installingWorker.onstatechange = () => {\r\n          if (installingWorker.state === 'installed') {\r\n            if (navigator.serviceWorker.controller) {\r\n              // At this point, the updated precached content has been fetched,\r\n              // but the previous service worker will still serve the older\r\n              // content until all client tabs are closed.\r\n              console.log(\r\n                'New content is available and will be used when all ' +\r\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\r\n              );\r\n\r\n              // Execute callback\r\n              if (config && config.onUpdate) {\r\n                config.onUpdate(registration);\r\n              }\r\n            } else {\r\n              // At this point, everything has been precached.\r\n              // It's the perfect time to display a\r\n              // \"Content is cached for offline use.\" message.\r\n              console.log('Content is cached for offline use.');\r\n\r\n              // Execute callback\r\n              if (config && config.onSuccess) {\r\n                config.onSuccess(registration);\r\n              }\r\n            }\r\n          }\r\n        };\r\n      };\r\n    })\r\n    .catch(error => {\r\n      console.error('Error during service worker registration:', error);\r\n    });\r\n}\r\n\r\nfunction checkValidServiceWorker(swUrl, config) {\r\n  // Check if the service worker can be found. If it can't reload the page.\r\n  fetch(swUrl)\r\n    .then(response => {\r\n      // Ensure service worker exists, and that we really are getting a JS file.\r\n      const contentType = response.headers.get('content-type');\r\n      if (\r\n        response.status === 404 ||\r\n        (contentType != null && contentType.indexOf('javascript') === -1)\r\n      ) {\r\n        // No service worker found. Probably a different app. Reload the page.\r\n        navigator.serviceWorker.ready.then(registration => {\r\n          registration.unregister().then(() => {\r\n            window.location.reload();\r\n          });\r\n        });\r\n      } else {\r\n        // Service worker found. Proceed as normal.\r\n        registerValidSW(swUrl, config);\r\n      }\r\n    })\r\n    .catch(() => {\r\n      console.log(\r\n        'No internet connection found. App is running in offline mode.'\r\n      );\r\n    });\r\n}\r\n\r\nexport function unregister() {\r\n  if ('serviceWorker' in navigator) {\r\n    navigator.serviceWorker.ready.then(registration => {\r\n      registration.unregister();\r\n    });\r\n  }\r\n}\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport './Style/index.css';\r\nimport App from './Component/App.js';\r\nimport * as serviceWorker from './serviceWorker';\r\n\r\nReactDOM.render(<App />, document.getElementById('root'));\r\n\r\n// If you want your app to work offline and load faster, you can change\r\n// unregister() to register() below. Note this comes with some pitfalls.\r\n// Learn more about service workers: https://bit.ly/CRA-PWA\r\nserviceWorker.unregister();\r\n","module.exports = __webpack_public_path__ + \"static/media/logo_text.dfa058f7.png\";"],"sourceRoot":""}